<!DOCTYPE html>
<html>
<head><title>Martial Arts App</title></head>
<body>
  <h1>Martial Arts App</h1>
  <ul>
    <li><a href="students.html">Students</a></li>
    <li><a href="attendance.html">Attendance</a></li>
    <li><a href="payments.html">Payments</a></li>
    <li><a href="expenses.html">Expenses</a></li>
    <li><a href="leads.html">Leads</a></li>
    <li><a href="accounting.html">Accounting</a></li>
  </ul>
</body>
</html>
<!DOCTYPE html>
<html>
<head><title>Students</title></head>
<body>
  <h1>Students</h1>
  <form id="studentForm">
    <input placeholder="First" id="first_name">
    <input placeholder="Last" id="last_name">
    <input placeholder="Phone" id="phone">
    <input placeholder="Email" id="email">
    <input placeholder="Program" id="program">
    <input placeholder="Start" id="start_date">
    <input placeholder="Renewal" id="renewal_date">
    <input placeholder="Age" id="age">
    <input placeholder="Address" id="address">
    <input placeholder="Parent Name" id="parent_name">
    <input placeholder="Parent Phone" id="parent_phone">
    <button type="submit">Add</button>
  </form>
  <ul id="list"></ul>
<script>
const form=document.getElementById("studentForm");
form.onsubmit=async e=>{
  e.preventDefault();
  const data={first_name:form.first_name.value,last_name:form.last_name.value,phone:form.phone.value,email:form.email.value,program:form.program.value,start_date:form.start_date.value,renewal_date:form.renewal_date.value,age:form.age.value,address:form.address.value,parent_name:form.parent_name.value,parent_phone:form.parent_phone.value};
  await fetch("/api/students",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)});
  load();
};
async function load(){const res=await fetch("/api/students");const rows=await res.json();document.getElementById("list").innerHTML=rows.map(s=>`<li>${s.first_name} ${s.last_name} (${s.program})</li>`).join("");}
load();
</script>
</body>
</html>
